json_file <- fromJSON("http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=CN_NUTS_C_WH2,FE_FRTR_W_TFR&countryIds=BJ")
require(RJSONIO)
json_file <- fromJSON("http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=CN_NUTS_C_WH2,FE_FRTR_W_TFR&countryIds=BJ")
json_data <- lapply(json_file$Data, function(x) { unlist(x) })
APIdata <- as.data.frame(do.call("rbind", json_data),stringsAsFactors=FALSE)
View(APIdata)
json_file <- fromJSON("http://api.dhsprogram.com/rest/dhs/data?breakdown=national&indicatorIds=FP_NADM_W_UNT,FE_FRTR_W_TFR,	CN_BFDR_C_MDE,HA_CPHT_W_T1R,HC_ELEC_H_ELC,CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE,	HA_HIVP_M_HIV,HA_HIVP_M_HVE,HA_HIVP_B_HIV,HA_HIVP_B_HVE,	CM_ECMT_C_U5M,CM_ECMR_C_IMR, CM_ECMR_C_PNR, CM_ECMR_C_NNR, CH_VACS_C_BAS, CH_VACS_C_NON, CH_VACC_C_BAS, CH_VACC_C_NON,CH_VAC1_C_BAS,CH_VAC1_C_NON,CH_DIAT_C_ORT, CH_DIAR_C_DIA,MA_AAFM_W_M20,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W_M2, 	CN_NUTS_C_WH2, CN_NUTS_C_HA2, 	ED_EDUC_W_SEP, RH_DELP_C_DHF,FP_CUSA_W_ANY, FP_CUSA_W_MOD,	FP_CUSM_W_ANY,FP_CUSM_W_MOD,SX_AAFS_W_M20,SX_AAFS_W_M25,SX_AAFS_W_M30,SX_AAFS_W_M35,SX_AAFS_W_M40,SX_AAFS_W_M45,SX_AAFS_W_M2A,SX_AAFS_W_M2B,ED_LITR_W_LIT,RH_PAHC_W_KNW,RH_PAHC_W_PRM,RH_PAHC_W_MON,RH_PAHC_W_DIS,RH_PAHC_W_TRN,RH_PAHC_W_ALN,RH_PAHC_W_FEM&countryIds=BJ,BF,CM,CI,GH,GN,LB,ML,MR,NI,NG,SN,SL,TG")
require(RJSONIO)
json_file <- fromJSON("http://api.dhsprogram.com/rest/dhs/data?breakdown=national&indicatorIds=FP_NADM_W_UNT,FE_FRTR_W_TFR,	CN_BFDR_C_MDE,HA_CPHT_W_T1R,HC_ELEC_H_ELC,CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE,	HA_HIVP_M_HIV,HA_HIVP_M_HVE,HA_HIVP_B_HIV,HA_HIVP_B_HVE,	CM_ECMT_C_U5M,CM_ECMR_C_IMR, CM_ECMR_C_PNR, CM_ECMR_C_NNR, CH_VACS_C_BAS, CH_VACS_C_NON, CH_VACC_C_BAS, CH_VACC_C_NON,CH_VAC1_C_BAS,CH_VAC1_C_NON,CH_DIAT_C_ORT, CH_DIAR_C_DIA,MA_AAFM_W_M20,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W_M2, 	CN_NUTS_C_WH2, CN_NUTS_C_HA2, 	ED_EDUC_W_SEP, RH_DELP_C_DHF,FP_CUSA_W_ANY, FP_CUSA_W_MOD,	FP_CUSM_W_ANY,FP_CUSM_W_MOD,SX_AAFS_W_M20,SX_AAFS_W_M25,SX_AAFS_W_M30,SX_AAFS_W_M35,SX_AAFS_W_M40,SX_AAFS_W_M45,SX_AAFS_W_M2A,SX_AAFS_W_M2B,ED_LITR_W_LIT,RH_PAHC_W_KNW,RH_PAHC_W_PRM,RH_PAHC_W_MON,RH_PAHC_W_DIS,RH_PAHC_W_TRN,RH_PAHC_W_ALN,RH_PAHC_W_FEM&countryIds=BJ,BF,CM,CI,GH,GN,LB,ML,MR,NI,NG,SN,SL,TG")
json_file <- fromJSON("http://api.dhsprogram.com/rest/dhs/data?breakdown=national&indicatorIds=FP_NADM_W_UNT,FE_FRTR_W_TFR")
json_file <- fromJSON("http://api.dhsprogram.com/rest/dhs/data?breakdown=national&indicatorIds=FP_NADM_W_UNT,FE_FRTR_W_TFR,	CN_BFDR_C_MDE,HA_CPHT_W_T1R,HC_ELEC_H_ELC,CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE,	HA_HIVP_M_HIV,HA_HIVP_M_HVE,HA_HIVP_B_HIV,HA_HIVP_B_HVE,	CM_ECMT_C_U5M,CM_ECMR_C_IMR, CM_ECMR_C_PNR, CM_ECMR_C_NNR, CH_VACS_C_BAS, CH_VACS_C_NON, CH_VACC_C_BAS, CH_VACC_C_NON,CH_VAC1_C_BAS,CH_VAC1_C_NON,CH_DIAT_C_ORT, CH_DIAR_C_DIA,MA_AAFM_W_M20,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W_M2, 	CN_NUTS_C_WH2, CN_NUTS_C_HA2, 	ED_EDUC_W_SEP, RH_DELP_C_DHF,FP_CUSA_W_ANY, FP_CUSA_W_MOD,	FP_CUSM_W_ANY,FP_CUSM_W_MOD,SX_AAFS_W_M20,SX_AAFS_W_M25,SX_AAFS_W_M30,SX_AAFS_W_M35,SX_AAFS_W_M40,SX_AAFS_W_M45,SX_AAFS_W_M2A,SX_AAFS_W_M2B,ED_LITR_W_LIT,RH_PAHC_W_KNW,RH_PAHC_W_PRM,RH_PAHC_W_MON,RH_PAHC_W_DIS,RH_PAHC_W_TRN,RH_PAHC_W_ALN,RH_PAHC_W_FEM&countryIds=BJ,BF,CM,CI,GH,GN,LB,ML,MR,NI,NG,SN,SL,TG")
json_file <- fromJSON("http://api.dhsprogram.com/rest/dhs/data?breakdown=national&indicatorIds=FP_NADM_W_UNT,FE_FRTR_W_TFR,CN_BFDR_C_MDE,HA_CPHT_W_T1R,HC_ELEC_H_ELC,CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE,	HA_HIVP_M_HIV,HA_HIVP_M_HVE,HA_HIVP_B_HIV,HA_HIVP_B_HVE,	CM_ECMT_C_U5M,CM_ECMR_C_IMR, CM_ECMR_C_PNR, CM_ECMR_C_NNR, CH_VACS_C_BAS, CH_VACS_C_NON, CH_VACC_C_BAS, CH_VACC_C_NON,CH_VAC1_C_BAS,CH_VAC1_C_NON,CH_DIAT_C_ORT, CH_DIAR_C_DIA,MA_AAFM_W_M20,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W_M2,CN_NUTS_C_WH2, CN_NUTS_C_HA2,ED_EDUC_W_SEP,RH_DELP_C_DHF,FP_CUSA_W_ANY,FP_CUSA_W_MOD,FP_CUSM_W_ANY,FP_CUSM_W_MOD,SX_AAFS_W_M20,SX_AAFS_W_M25,SX_AAFS_W_M30,SX_AAFS_W_M35,SX_AAFS_W_M40,SX_AAFS_W_M45,SX_AAFS_W_M2A,SX_AAFS_W_M2B,ED_LITR_W_LIT,RH_PAHC_W_KNW,RH_PAHC_W_PRM,RH_PAHC_W_MON,RH_PAHC_W_DIS,RH_PAHC_W_TRN,RH_PAHC_W_ALN,RH_PAHC_W_FEM&countryIds=BJ,BF,CM,CI,GH,GN,LB,ML,MR,NI,NG,SN,SL,TG")
json_file <- fromJSON("http://api.dhsprogram.com/rest/dhs/data?breakdown=national&indicatorIds=FP_NADM_W_UNT,FE_FRTR_W_TFR,CN_BFDR_C_MDE,HA_CPHT_W_T1R,HC_ELEC_H_ELC,CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE,HA_HIVP_M_HIV,HA_HIVP_M_HVE,HA_HIVP_B_HIV,HA_HIVP_B_HVE,	CM_ECMT_C_U5M,CM_ECMR_C_IMR, CM_ECMR_C_PNR, CM_ECMR_C_NNR, CH_VACS_C_BAS, CH_VACS_C_NON, CH_VACC_C_BAS, CH_VACC_C_NON,CH_VAC1_C_BAS,CH_VAC1_C_NON,CH_DIAT_C_ORT, CH_DIAR_C_DIA,MA_AAFM_W_M20,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W_M2,CN_NUTS_C_WH2, CN_NUTS_C_HA2,ED_EDUC_W_SEP,RH_DELP_C_DHF,FP_CUSA_W_ANY,FP_CUSA_W_MOD,FP_CUSM_W_ANY,FP_CUSM_W_MOD,SX_AAFS_W_M20,SX_AAFS_W_M25,SX_AAFS_W_M30,SX_AAFS_W_M35,SX_AAFS_W_M40,SX_AAFS_W_M45,SX_AAFS_W_M2A,SX_AAFS_W_M2B,ED_LITR_W_LIT,RH_PAHC_W_KNW,RH_PAHC_W_PRM,RH_PAHC_W_MON,RH_PAHC_W_DIS,RH_PAHC_W_TRN,RH_PAHC_W_ALN,RH_PAHC_W_FEM&countryIds=BJ,BF,CM,CI,GH,GN,LB,ML,MR,NI,NG,SN,SL,TG")
json_file <- fromJSON("http://api.dhsprogram.com/rest/dhs/data?breakdown=national&indicatorIds=FP_NADM_W_UNT,FE_FRTR_W_TFR,CN_BFDR_C_MDE,HA_CPHT_W_T1R,HC_ELEC_H_ELC,CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE,HA_HIVP_M_HIV,HA_HIVP_M_HVE,HA_HIVP_B_HIV,HA_HIVP_B_HVE,	CM_ECMT_C_U5M,CM_ECMR_C_IMR, CM_ECMR_C_PNR, CM_ECMR_C_NNR, CH_VACS_C_BAS, CH_VACS_C_NON, CH_VACC_C_BAS, CH_VACC_C_NON,CH_VAC1_C_BAS,CH_VAC1_C_NON,CH_DIAT_C_ORT, CH_DIAR_C_DIA,MA_AAFM_W_M20,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W_M2,CN_NUTS_C_WH2, CN_NUTS_C_HA2,ED_EDUC_W_SEP,RH_DELP_C_DHF,FP_CUSA_W_ANY,FP_CUSA_W_MOD")
json_file <- fromJSON("http://api.dhsprogram.com/rest/dhs/data?breakdown=national&indicatorIds=FP_NADM_W_UNT,FE_FRTR_W_TFR,CN_BFDR_C_MDE,HA_CPHT_W_T1R,HC_ELEC_H_ELC,CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE,HA_HIVP_M_HIV,HA_HIVP_M_HVE,HA_HIVP_B_HIV,HA_HIVP_B_HVE,	CM_ECMT_C_U5M,CM_ECMR_C_IMR, CM_ECMR_C_PNR, CM_ECMR_C_NNR, CH_VACS_C_BAS, CH_VACS_C_NON, CH_VACC_C_BAS, CH_VACC_C_NON,CH_VAC1_C_BAS,CH_VAC1_C_NON,CH_DIAT_C_ORT, CH_DIAR_C_DIA,MA_AAFM_W_M20,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W_M2,CN_NUTS_C_WH2,CN_NUTS_C_HA2,ED_EDUC_W_SEP,RH_DELP_C_DHF,FP_CUSA_W_ANY,FP_CUSA_W_MOD,FP_CUSM_W_ANY,FP_CUSM_W_MOD,SX_AAFS_W_M20,SX_AAFS_W_M25,SX_AAFS_W_M30,SX_AAFS_W_M35,SX_AAFS_W_M40,SX_AAFS_W_M45,SX_AAFS_W_M2A,SX_AAFS_W_M2B,ED_LITR_W_LIT,RH_PAHC_W_KNW,RH_PAHC_W_PRM,RH_PAHC_W_MON,RH_PAHC_W_DIS,RH_PAHC_W_TRN,RH_PAHC_W_ALN,RH_PAHC_W_FEM&countryIds=BJ,BF,CM,CI,GH,GN,LB,ML,MR,NI,NG,SN,SL,TG")
json_file <- fromJSON("http://api.dhsprogram.com/rest/dhs/data?breakdown=national&indicatorIds=FP_NADM_W_UNT,FE_FRTR_W_TFR,CN_BFDR_C_MDE,HA_CPHT_W_T1R,HC_ELEC_H_ELC,CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE,HA_HIVP_M_HIV,HA_HIVP_M_HVE,HA_HIVP_B_HIV,HA_HIVP_B_HVE")
json_file <- fromJSON("http://api.dhsprogram.com/rest/dhs/data?breakdown=national&indicatorIds=FP_NADM_W_UNT,FE_FRTR_W_TFR,CN_BFDR_C_MDE,HA_CPHT_W_T1R,HC_ELEC_H_ELC,CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE,HA_HIVP_M_HIV,HA_HIVP_M_HVE,HA_HIVP_B_HIV,HA_HIVP_B_HVE,CM_ECMT_C_U5M,CM_ECMR_C_IMR,CM_ECMR_C_PNR,CM_ECMR_C_NNR,CH_VACS_C_BAS,CH_VACS_C_NON,CH_VACC_C_BAS,CH_VACC_C_NON,CH_VAC1_C_BAS,CH_VAC1_C_NON,CH_DIAT_C_ORT,CH_DIAR_C_DIA,MA_AAFM_W_M20,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W_M2,CN_NUTS_C_WH2,CN_NUTS_C_HA2,ED_EDUC_W_SEP,RH_DELP_C_DHF,FP_CUSA_W_ANY,FP_CUSA_W_MOD,FP_CUSM_W_ANY,FP_CUSM_W_MOD,SX_AAFS_W_M20,SX_AAFS_W_M25,SX_AAFS_W_M30,SX_AAFS_W_M35,SX_AAFS_W_M40,SX_AAFS_W_M45,SX_AAFS_W_M2A,SX_AAFS_W_M2B,ED_LITR_W_LIT,RH_PAHC_W_KNW,RH_PAHC_W_PRM,RH_PAHC_W_MON,RH_PAHC_W_DIS,RH_PAHC_W_TRN,RH_PAHC_W_ALN,RH_PAHC_W_FEM&countryIds=BJ,BF,CM,CI,GH,GN,LB,ML,MR,NI,NG,SN,SL,TG")
json_data <- lapply(json_file$Data, function(x) { unlist(x) })
APIdata <- as.data.frame(do.call("rbind", json_data),stringsAsFactors=FALSE)
json_file <- fromJSON("http://api.dhsprogram.com/rest/dhs/data?breakdown=national&indicatorIds=FP_NADM_W_UNT,FE_FRTR_W_TFR,CN_BFDR_C_MDE,HA_CPHT_W_T1R,HC_ELEC_H_ELC,CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE,HA_HIVP_M_HIV,HA_HIVP_M_HVE,HA_HIVP_B_HIV,HA_HIVP_B_HVE,CM_ECMT_C_U5M,CM_ECMR_C_IMR,CM_ECMR_C_PNR,CM_ECMR_C_NNR,CH_VACS_C_BAS,CH_VACS_C_NON,CH_VACC_C_BAS,CH_VACC_C_NON,CH_VAC1_C_BAS,CH_VAC1_C_NON,CH_DIAT_C_ORT,CH_DIAR_C_DIA,MA_AAFM_W_M20,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W_M2,CN_NUTS_C_WH2,CN_NUTS_C_HA2,ED_EDUC_W_SEP,RH_DELP_C_DHF,FP_CUSA_W_ANY,FP_CUSA_W_MOD,FP_CUSM_W_ANY,FP_CUSM_W_MOD,SX_AAFS_W_M20,SX_AAFS_W_M25,SX_AAFS_W_M30,SX_AAFS_W_M35,SX_AAFS_W_M40,SX_AAFS_W_M45,SX_AAFS_W_M2A,SX_AAFS_W_M2B,ED_LITR_W_LIT,RH_PAHC_W_KNW,RH_PAHC_W_PRM,RH_PAHC_W_MON,RH_PAHC_W_DIS,RH_PAHC_W_TRN,RH_PAHC_W_ALN,RH_PAHC_W_FEM&countryIds=BJ,BF,CM,CI,GH,GN,LB,ML,MR,NI,NG,SN,SL,TG&apiKey=USAAID-405632&perpage=5000")
json_data <- lapply(json_file$Data, function(x) { unlist(x) })
APIdata <- as.data.frame(do.call("rbind", json_data),stringsAsFactors=FALSE)
json_file <- fromJSON("http://api.dhsprogram.com/rest/dhs/data?breakdown=national&indicatorIds=FP_NADM_W_UNT,FE_FRTR_W_TFR")
json_data <- lapply(json_file$Data, function(x) { unlist(x) })
APIdata <- as.data.frame(do.call("rbind", json_data),stringsAsFactors=FALSE)
View(APIdata)
json_file <- fromJSON("http://api.dhsprogram.com/rest/dhs/data?breakdown=national&indicatorIds=FP_NADM_W_UNT,FE_FRTR_W_TFR&SurveyYear>2000")
json_data <- lapply(json_file$Data, function(x) { unlist(x) })
APIdata <- as.data.frame(do.call("rbind", json_data),stringsAsFactors=FALSE)
json_file <- fromJSON("http://api.dhsprogram.com/rest/dhs/data?breakdown=national&indicatorIds=FP_NADM_W_UNT,FE_FRTR_W_TFR&SurveyYear=2000")
json_data <- lapply(json_file$Data, function(x) { unlist(x) })
# Convert JSON input to a data frame
APIdata <- as.data.frame(do.call("rbind", json_data),stringsAsFactors=FALSE)
years = seq(2000,2016)
eyars
years
paste0(seq(2000,2016), sep = ',')
paste0(seq(2000,2016), sep = ',', collapse = TRUE)
paste0(seq(2000,2016), collapse = ',')
# set up the queries
apiKey = 'USAAID-405632'
indicators = 'FP_NADM_W_UNT,FE_FRTR_W_TFR,CN_BFDR_C_MDE,HA_CPHT_W_T1R,HC_ELEC_H_ELC,CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE,HA_HIVP_M_HIV,HA_HIVP_M_HVE,HA_HIVP_B_HIV,HA_HIVP_B_HVE,CM_ECMT_C_U5M,CM_ECMR_C_IMR,CM_ECMR_C_PNR,CM_ECMR_C_NNR,CH_VACS_C_BAS,CH_VACS_C_NON,CH_VACC_C_BAS,CH_VACC_C_NON,CH_VAC1_C_BAS,CH_VAC1_C_NON,CH_DIAT_C_ORT,CH_DIAR_C_DIA,MA_AAFM_W_M20,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W_M2,CN_NUTS_C_WH2,CN_NUTS_C_HA2,ED_EDUC_W_SEP,RH_DELP_C_DHF,FP_CUSA_W_ANY,FP_CUSA_W_MOD,FP_CUSM_W_ANY,FP_CUSM_W_MOD,SX_AAFS_W_M20,SX_AAFS_W_M25,SX_AAFS_W_M30,SX_AAFS_W_M35,SX_AAFS_W_M40,SX_AAFS_W_M45,SX_AAFS_W_M2A,SX_AAFS_W_M2B,ED_LITR_W_LIT,RH_PAHC_W_KNW,RH_PAHC_W_PRM,RH_PAHC_W_MON,RH_PAHC_W_DIS,RH_PAHC_W_TRN,RH_PAHC_W_ALN,RH_PAHC_W_FEM'
countries = 'BJ,BF,CM,CI,GH,GN,LB,ML,MR,NI,NG,SN,SL,TG'
years = paste0(seq(2000,2016), collapse = ',')
# Import DHS Indicator National-level data
json_file <- fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=national&indicatorIds=',indicators,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
json_data <- lapply(json_file$Data, function(x) { unlist(x) })
APIdata <- as.data.frame(do.call("rbind", json_data),stringsAsFactors=FALSE)
apiKey = 'USAAID-405632'
indicators = 'FP_NADM_W_UNT,FE_FRTR_W_TFR,CN_BFDR_C_MDE,HA_CPHT_W_T1R,HC_ELEC_H_ELC,CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE,HA_HIVP_M_HIV,HA_HIVP_M_HVE,HA_HIVP_B_HIV,HA_HIVP_B_HVE,CM_ECMT_C_U5M,CM_ECMR_C_IMR,CM_ECMR_C_PNR,CM_ECMR_C_NNR,CH_VACS_C_BAS,CH_VACS_C_NON,CH_VACC_C_BAS,CH_VACC_C_NON,CH_VAC1_C_BAS,CH_VAC1_C_NON,CH_DIAT_C_ORT,CH_DIAR_C_DIA,MA_AAFM_W_M20,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W_M2,CN_NUTS_C_WH2,CN_NUTS_C_HA2,ED_EDUC_W_SEP,RH_DELP_C_DHF,FP_CUSA_W_ANY,FP_CUSA_W_MOD,FP_CUSM_W_ANY,FP_CUSM_W_MOD,SX_AAFS_W_M20,SX_AAFS_W_M25,SX_AAFS_W_M30,SX_AAFS_W_M35,SX_AAFS_W_M40,SX_AAFS_W_M45,SX_AAFS_W_M2A,SX_AAFS_W_M2B,ED_LITR_W_LIT,RH_PAHC_W_KNW,RH_PAHC_W_PRM,RH_PAHC_W_MON,RH_PAHC_W_DIS,RH_PAHC_W_TRN,RH_PAHC_W_ALN,RH_PAHC_W_FEM'
countries = 'BJ,BF,CM,CI,GH,GN,LB,ML,MR,NI,NG,SN,SL,TG'
# Figure out where to filter the years of DHS data
json_file <- fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=national',
'&countryIds=', countries,
'&apiKey=', apiKey,
'&perpage=5000'))
# Unlist the JSON file entries
json_data <- lapply(json_file$Data, function(x) { unlist(x) })
apiKey = 'USAAID-405632'
indicators = 'FP_NADM_W_UNT,FE_FRTR_W_TFR,CN_BFDR_C_MDE,HA_CPHT_W_T1R,HC_ELEC_H_ELC,CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE,HA_HIVP_M_HIV,HA_HIVP_M_HVE,HA_HIVP_B_HIV,HA_HIVP_B_HVE,CM_ECMT_C_U5M,CM_ECMR_C_IMR,CM_ECMR_C_PNR,CM_ECMR_C_NNR,CH_VACS_C_BAS,CH_VACS_C_NON,CH_VACC_C_BAS,CH_VACC_C_NON,CH_VAC1_C_BAS,CH_VAC1_C_NON,CH_DIAT_C_ORT,CH_DIAR_C_DIA,MA_AAFM_W_M20,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W_M2,CN_NUTS_C_WH2,CN_NUTS_C_HA2,ED_EDUC_W_SEP,RH_DELP_C_DHF,FP_CUSA_W_ANY,FP_CUSA_W_MOD,FP_CUSM_W_ANY,FP_CUSM_W_MOD,SX_AAFS_W_M20,SX_AAFS_W_M25,SX_AAFS_W_M30,SX_AAFS_W_M35,SX_AAFS_W_M40,SX_AAFS_W_M45,SX_AAFS_W_M2A,SX_AAFS_W_M2B,ED_LITR_W_LIT,RH_PAHC_W_KNW,RH_PAHC_W_PRM,RH_PAHC_W_MON,RH_PAHC_W_DIS,RH_PAHC_W_TRN,RH_PAHC_W_ALN,RH_PAHC_W_FEM,MM_MMRT_W_MRT,MM_MMRO_W_GFR,MM_MMRO_W_MMR,MM_MMRO_W_CIL,MM_MMRO_W_CIH'
countries = 'BJ,BF,CM,CI,GH,GN,LB,ML,MR,NI,NG,SN,SL,TG'
# Figure out where to filter the years of DHS data
json_file <- fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=national&indicatorIds=CN_NUTS_C_WH2',
'&countryIds=', countries,
'&apiKey=', apiKey,
'&perpage=5000'))
# Unlist the JSON file entries
json_data <- lapply(json_file$Data, function(x) { unlist(x) })
# Convert JSON input to a data frame
allData <- as.data.frame(do.call("rbind", json_data),stringsAsFactors=FALSE)
View(APIdata)
View(allData)
years = paste0(seq(1980,2016), collapse = ',')
# Import DHS Indicator National-level data
json_file <- fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=national&indicatorIds=',indicators,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
json_file_sub1<-fromJSON("http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=CN_NUTS_C_WH2,FE_FRTR_W_TFR&countryIds=BJ")
# Unlist the JSON file entries
json_data <- lapply(json_file$Data, function(x) { unlist(x) })
# Convert JSON input to a data frame
APIdata <- as.data.frame(do.call("rbind", json_data),stringsAsFactors=FALSE)
require(RJSONIO)
# set up the queries
apiKey = 'USAAID-405632'
indicators = 'FP_NADM_W_UNT,FE_FRTR_W_TFR,CN_BFDR_C_MDE,HA_CPHT_W_T1R,HC_ELEC_H_ELC,CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE,HA_HIVP_M_HIV,HA_HIVP_M_HVE,HA_HIVP_B_HIV,HA_HIVP_B_HVE,CM_ECMT_C_U5M,CM_ECMR_C_IMR,CM_ECMR_C_PNR,CM_ECMR_C_NNR,CH_VACS_C_BAS,CH_VACS_C_NON,CH_VACC_C_BAS,CH_VACC_C_NON,CH_VAC1_C_BAS,CH_VAC1_C_NON,CH_DIAT_C_ORT,CH_DIAR_C_DIA,MA_AAFM_W_M20,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W_M2,CN_NUTS_C_WH2,CN_NUTS_C_HA2,ED_EDUC_W_SEP,RH_DELP_C_DHF,FP_CUSA_W_ANY,FP_CUSA_W_MOD,FP_CUSM_W_ANY,FP_CUSM_W_MOD,SX_AAFS_W_M20,SX_AAFS_W_M25,SX_AAFS_W_M30,SX_AAFS_W_M35,SX_AAFS_W_M40,SX_AAFS_W_M45,SX_AAFS_W_M2A,SX_AAFS_W_M2B,ED_LITR_W_LIT,RH_PAHC_W_KNW,RH_PAHC_W_PRM,RH_PAHC_W_MON,RH_PAHC_W_DIS,RH_PAHC_W_TRN,RH_PAHC_W_ALN,RH_PAHC_W_FEM,MM_MMRT_W_MRT,MM_MMRO_W_GFR,MM_MMRO_W_MMR,MM_MMRO_W_CIL,MM_MMRO_W_CIH'
countries = 'BJ,BF,CM,CI,GH,GN,LB,ML,MR,NI,NG,SN,SL,TG'
years = paste0(seq(1980,2016), collapse = ',')
# Figure out where to filter the years of DHS data
json_file <- fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=national&indicatorIds=',indicators,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
# Unlist the JSON file entries
json_data <- lapply(json_file$Data, function(x) { unlist(x) })
# Convert JSON input to a data frame
allData <- as.data.frame(do.call("rbind", json_data),stringsAsFactors=FALSE)
allData %>%
group_by(SurveyYear, CountryName) %>%
summary(n())
library('dplyr')
allData %>%
group_by(SurveyYear, CountryName) %>%
summary(n())
allData %>%
group_by(SurveyYear, CountryName) %>%
summarise(n())
View(allData %>%
group_by(SurveyYear, CountryName) %>%
summarise(n()))
ggplot(svyYears, aes(x = SurveyYear, y = CountryName, size = num)) +
geom_point()
library('ggplot2')
library('llamar')
svyYrs = allData %>%
group_by(SurveyYear, CountryName) %>%
summarise(num  = n())
ggplot(svyYears, aes(x = SurveyYear, y = CountryName, size = num)) +
geom_point()
ggplot(svyYrs, aes(x = SurveyYear, y = CountryName, size = num)) +
geom_point()
ggplot(svyYrs, aes(x = SurveyYear, y = CountryName, size = num)) +
geom_point() +
theme_xgrid()
ggplot(svyYrs, aes(x = SurveyYear, y = CountryName, size = num)) +
geom_point() +
scale_x_continuous(breaks = seq(1986, 2016, by = 4)) +
theme_xgrid()
ggplot(svyYrs, aes(x = SurveyYear, y = CountryName, size = num)) +
geom_point() +
scale_x_continuous(limits = c(1986, 2016),
breaks = seq(1986, 2016, by = 4)) +
theme_xgrid()
glimpse(svyYrs)
svyYrs = allData %>%
group_by(SurveyYear, CountryName) %>%
summarise(num  = n()) %>%
mutate(year = as.int(SurveyYear))
ggplot(svyYrs, aes(x = year, y = CountryName, size = num)) +
geom_point() +
scale_x_continuous(breaks = seq(1986, 2016, by = 4)) +
theme_xgrid()
svyYrs = allData %>%
group_by(SurveyYear, CountryName) %>%
summarise(num  = n()) %>%
mutate(year = as.integer(SurveyYear))
ggplot(svyYrs, aes(x = year, y = CountryName, size = num)) +
geom_point() +
scale_x_continuous(breaks = seq(1986, 2016, by = 4)) +
theme_xgrid()
ggplot(svyYrs, aes(x = year, y = CountryName, size = num)) +
geom_point() +
scale_x_continuous(breaks = seq(2000, 2016, by = 4)) +
theme_xgrid()
ggplot(svyYrs, aes(x = year, y = CountryName, size = num)) +
geom_point() +
scale_x_continuous(limits = c(2000, 2016),
breaks = seq(2000, 2016, by = 4)) +
theme_xgrid()
ggplot(svyYrs, aes(x = year, y = CountryName, size = num)) +
geom_point() +
scale_x_continuous(limits = c(2000, 2016),
breaks = seq(2000, 2016, by = 2)) +
theme_xgrid()
years = paste0(seq(2000,2016), collapse = ',')
natl <- as.data.frame(do.call("rbind", json_data),stringsAsFactors=FALSE)
xtabs(as.numeric(Value) ~ SurveyId, data=natl)
require(RJSONIO)
apiKey = 'USAAID-405632'
indicator1 = 'FP_NADM_W_UNT,FE_FRTR_W_TFR,CN_BFDR_C_MDE,HA_CPHT_W_T1R,HC_ELEC_H_ELC,CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE,HA_HIVP_M_HIV,HA_HIVP_M_HVE,HA_HIVP_B_HIV,HA_HIVP_B_HVE,CM_ECMT_C_U5M,CM_ECMR_C_IMR'
countries = 'BJ,BF,CM,CI,GH,GN,LB,ML,MR,NI,NG,SN,SL,TG'
years = paste0(seq(1980,2016), collapse = ',')
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator1,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicators,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
indicator1 = 'FP_NADM_W_UNT,FE_FRTR_W_TFR,CN_BFDR_C_MDE,HA_CPHT_W_T1R,HC_ELEC_H_ELC,CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE,HA_HIVP_M_HIV,HA_HIVP_M_HVE,HA_HIVP_B_HIV,HA_HIVP_B_HVE,CM_ECMT_C_U5M,CM_ECMR_C_IMR,CM_ECMR_C_PNR,CM_ECMR_C_NNR,CH_VACS_C_BAS,CH_VACS_C_NON,CH_VACC_C_BAS,CH_VACC_C_NON,CH_VAC1_C_BAS,CH_VAC1_C_NON,CH_DIAT_C_ORT,CH_DIAR_C_DIA,MA_AAFM_W_M20,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W_M2,CN_NUTS_C_WH2,CN_NUTS_C_HA2,ED_EDUC_W_SEP,RH_DELP_C_DHF,FP_CUSA_W_ANY,FP_CUSA_W_MOD,FP_CUSM_W_ANY,FP_CUSM_W_MOD,SX_AAFS_W_M20,SX_AAFS_W_M25,SX_AAFS_W_M30,SX_AAFS_W_M35,SX_AAFS_W_M40,SX_AAFS_W_M45,SX_AAFS_W_M2A,SX_AAFS_W_M2B,ED_LITR_W_LIT,RH_PAHC_W_KNW,RH_PAHC_W_PRM,RH_PAHC_W_MON,RH_PAHC_W_DIS,RH_PAHC_W_TRN,RH_PAHC_W_ALN,RH_PAHC_W_FEM,MM_MMRT_W_MRT,MM_MMRO_W_GFR,MM_MMRO_W_MMR,MM_MMRO_W_CIL,MM_MMRO_W_CIH'
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator1,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
indicator1 = 'FP_NADM_W_UNT,FE_FRTR_W_TFR,CN_BFDR_C_MDE,HA_CPHT_W_T1R'
years = paste0(seq(2000,2016), collapse = ',')
indicator1 = 'FP_NADM_W_UNT,FE_FRTR_W_TFR,CN_BFDR_C_MDE,HA_CPHT_W_T1R,HC_ELEC_H_ELC,CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE,HA_HIVP_M_HIV,HA_HIVP_M_HVE,HA_HIVP_B_HIV,HA_HIVP_B_HVE,CM_ECMT_C_U5M,CM_ECMR_C_IMR,CM_ECMR_C_PNR,CM_ECMR_C_NNR,CH_VACS_C_BAS,CH_VACS_C_NON,CH_VACC_C_BAS,CH_VACC_C_NON,CH_VAC1_C_BAS,CH_VAC1_C_NON,CH_DIAT_C_ORT,CH_DIAR_C_DIA,MA_AAFM_W_M20,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W_M2,CN_NUTS_C_WH2,CN_NUTS_C_HA2,ED_EDUC_W_SEP,RH_DELP_C_DHF,FP_CUSA_W_ANY,FP_CUSA_W_MOD,FP_CUSM_W_ANY,FP_CUSM_W_MOD,SX_AAFS_W_M20,SX_AAFS_W_M25,SX_AAFS_W_M30,SX_AAFS_W_M35,SX_AAFS_W_M40,SX_AAFS_W_M45,SX_AAFS_W_M2A,SX_AAFS_W_M2B,ED_LITR_W_LIT,RH_PAHC_W_KNW,RH_PAHC_W_PRM,RH_PAHC_W_MON,RH_PAHC_W_DIS,RH_PAHC_W_TRN,RH_PAHC_W_ALN,RH_PAHC_W_FEM,MM_MMRT_W_MRT,MM_MMRO_W_GFR,MM_MMRO_W_MMR,MM_MMRO_W_CIL,MM_MMRO_W_CIH'
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator1,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
842-13
842-15
827/13
seq(15, 827, by = 6)
seq(15, 827, by = 83)
indicator1 = 'FP_NADM_W_UNT,FE_FRTR_W_TFR,CN_BFDR_C_MDE,HA_CPHT_W_T1R,HC_ELEC_H_ELC,CN_NUTS_C_WA2'
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator1,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
indicator1 = 'FP_NADM_W_UNT,FE_FRTR_W_TFR,CN_BFDR_C_MDE,HA_CPHT_W_T1R,HC_ELEC_H_ELC'
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator1,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
indicator2 = 'CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE,HA_HIVP_M_HIV,HA_HIVP_M_HVE'
indicator3 = 'HA_HIVP_B_HIV,HA_HIVP_B_HVE,CM_ECMT_C_U5M,CM_ECMR_C_IMR,CM_ECMR_C_PNR'
indicator4 = 'CM_ECMR_C_NNR,CH_VACS_C_BAS,CH_VACS_C_NON,CH_VACC_C_BAS,CH_VACC_C_NON'
indicator5 = 'CH_VAC1_C_BAS,CH_VAC1_C_NON,CH_DIAT_C_ORT,CH_DIAR_C_DIA,MA_AAFM_W_M20'
indicator6 = 'MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W_M2'
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator2,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator3,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator4,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator5,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator6,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
indicator2 = 'CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE,HA_HIVP_M_HIV'
indicator3 = 'HA_HIVP_B_HIV,HA_HIVP_B_HVE,CM_ECMT_C_U5M,CM_ECMR_C_IMR'
indicator4 = 'CM_ECMR_C_NNR,CH_VACS_C_BAS,CH_VACS_C_NON,CH_VACC_C_BAS,CH_VACC_C_NON,HA_HIVP_M_HVE'
indicator5 = 'CH_VAC1_C_BAS,CH_VAC1_C_NON,CH_DIAT_C_ORT,CH_DIAR_C_DIA,MA_AAFM_W_M20'
indicator6 = 'MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W,MA_AAFM_W_M2'
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator4,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator3,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator2,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
indicator2 = 'CN_NUTS_C_WA2,HA_HIVP_W_HIV,HA_HIVP_W_HVE'
indicator7 = 'CM_ECMR_C_PNR,,HA_HIVP_M_HVE,HA_HIVP_M_HIV'
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator2,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator7,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
indicator7 = 'HA_HIVP_M_HVE,HA_HIVP_M_HIV'
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator7,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator8,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
indicator8 = 'CN_NUTS_C_WH2,CN_NUTS_C_HA2,ED_EDUC_W_SEP,RH_DELP_C_DHF,FP_CUSA_W_ANY'
indicator9 = 'CM_ECMR_C_PNR,FP_CUSA_W_MOD,FP_CUSM_W_ANY,FP_CUSM_W_MOD,SX_AAFS_W_M20'
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator8,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
''
indicator9 = 'CM_ECMR_C_PNR,FP_CUSA_W_MOD,FP_CUSM_W_ANY,FP_CUSM_W_MOD,SX_AAFS_W_M20'
indicator10 = 'SX_AAFS_W_M25,SX_AAFS_W_M30,SX_AAFS_W_M35,SX_AAFS_W_M40,SX_AAFS_W_M45'
indicator11 = 'SX_AAFS_W_M2A,SX_AAFS_W_M2B,ED_LITR_W_LIT,RH_PAHC_W_KNW,RH_PAHC_W_PRM'
indicator12 = 'RH_PAHC_W_MON,RH_PAHC_W_DIS,RH_PAHC_W_TRN,RH_PAHC_W_ALN,RH_PAHC_W_FEM'
indicator13 = 'MM_MMRT_W_MRT,MM_MMRO_W_GFR,MM_MMRO_W_MMR,MM_MMRO_W_CIL,MM_MMRO_W_CIH'
indicator8 = 'CN_NUTS_C_WH2,CN_NUTS_C_HA2,ED_EDUC_W_SEP'
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator8,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator9,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
indicator9 = 'CM_ECMR_C_PNR,FP_CUSA_W_MOD,FP_CUSM_W_ANY,FP_CUSM_W_MOD'
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator9,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
indicator10 = 'SX_AAFS_W_M25,SX_AAFS_W_M30,SX_AAFS_W_M35,SX_AAFS_W_M40,SX_AAFS_W_M45'
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator10,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator11,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator12,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator13,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
indicator14 = 'RH_DELP_C_DHF,FP_CUSA_W_ANY,SX_AAFS_W_M20'
json_file_sub1 = fromJSON(paste0('http://api.dhsprogram.com/rest/dhs/data?breakdown=all&indicatorIds=',indicator14,
'&countryIds=', countries,
'&SurveyYear=', years,
'&apiKey=', apiKey,
'&perpage=5000'))
